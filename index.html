<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>

<script>
	// Valid Status values: [ pending | in progress | done | fixing | none ]. For adding new status you should add a new CSS class.
	var inprogress = "in progress";
	var pending = "pending";
	var done = "done";
	var fixing = "fixing";
	var none = "-";
</script>
<script>
	// RELEASE INFO
		var releaseDate =  new Date('2018/12/18');
		var iopGeneral = "---";
		var iopTeam = "60960";
		var app = "Vueling.Crew";
		
	// INT
		var INTScripts = done;
		var INTConfig = none ;
		var INTDeploy = done;
		var INTValidations = done;
		var INTRegressive = done;
		
	// QA05
		var QA05Scripts = done;
		var QA05Config = none ;
		var QA05Validations = inprogress;
		
	// PRE
		var PREScripts = pending;
		var PREConfig = none;
		var PREDeploy = pending;
		var PREValidations = pending;
		var PRERegressive = pending;
		
	// TABLE VERIFICATION
		var tablesPREVerification = pending;
		
	// PRO A
		var PROAScripts = pending;
		var PROAConfig = none;
		var PROADeploy = pending;
		var PROAValidations = pending;
		var PROARegressive = pending;
	
	// PRO B
		var PROBDeploy = pending;
		var PROBValidations = pending;
		var PROBRegressive = pending;
	// Release END
		var isReleaseFinishied = false;
	
</script>
<style>
	.pending {color:#c1c1c1;}
	.inprogress {color: #ffb300;}
	.done {color: rgb(76, 175, 80);}
	.fixing {color: rgb(250, 128, 114);}
	.none {color:#c1c1c1;}
</style>
<body>
	<div style="display:flex; width:100%;height:100%;font-family:Arial, Helvetica, sans-serif;flex-direction:column;">
		<div id="row1" class="column">
			<div class="header">
				<h1 class="center">Environment</h1>
			</div>
			<div class="header">
				<h1 class="center">Scripts</h1>
			</div>
			<div class="header">
				<h1 style="margin:0 auto;">Config</h1>
			</div>
			<div class="header">
				<h1 style="margin:0 auto;">Deploy</h1>
			</div>
			<div class="header">
				<h1 style="margin:0 auto;">Validations</h1>
			</div>
			<div class="header">
				<h1 style="margin:0 auto;">Regressive</h1>
			</div>
		</div>
		<div id="row2" class="column">
			<div class="environment">
				<h1 class="center">INT</h1>
                <h2 id="releaseDateINT" class="center"></h2>
			</div>
			<div class="item">
				<h1 id="INTScripts"></h1>
			</div>
			<div class="item">
				<h1 id="INTConfig"></h1>
			</div>
			<div class="item">
				<h1 id="INTDeploy"></h1>
			</div>
			<div class="item">
				<h1 id="INTValidations"></h1>
			</div>
			<div class="item">
				<h1 id="INTRegressive"></h1>
			</div>
		</div>
		<div id="row3" class="column">
			<div id="row3" class="column">
			<div class="environment">
				<h1 class="center">QA05</h1>
			</div>
			<div class="item">
				<h1 id="QA05Scripts"></h1>
			</div>
			<div class="item">
				<h1 id="QA05Config"></h1>
			</div>
			<div class="item na">
				<h1 class="center">&nbsp;</h1>
			</div>
			<div class="item">
				<h1 id="QA05Validations"></h1>
			</div>
			<div class="item na">
				<h1 class="center">&nbsp;</h1>
			</div>
		</div>
		</div>
		<div id="row4" class="column">
			<div class="environment">
				<h1 class="center">PRE</h1>
                <h2 id="releaseDatePRE" class="center"></h2>
			</div>
			<div class="item">
				<h1 id="PREScripts"></h1>
			</div>
			<div class="item">
				<h1 id="PREConfig"></h1>
			</div>
			<div class="item">
				<h1 id="PREDeploy"></h1>
			</div>
			<div class="item">
				<h1 id="PREValidations"></h1>
			</div>
			<div class="item">
				<h1 id="PRERegressive"></h1>
			</div>
		</div>
		<div id="row5" class="column" style="justify-content: center;border-bottom:1px dashed #c1c1c1;">
			<div class="special last bigger">
				<h1 class="center pending">Verify SQL tables [INT vs PRE]</h1>
			</div>
			<div class="special last">
				<h1 id="tablesPREVerification"></h1>
			</div>
		</div>
		<div id="row6" class="column">
			<div class="environment">
				<h1 class="center">PRO A</h1>
				<h2 id="releaseDateA" class="center"></h2>
			</div>
			<div class="item">
				<h1 id="PROAScripts"></h1>
			</div>
			<div class="item">
				<h1 id="PROAConfig"></h1>
			</div>
			<div class="item">
				<h1 id="PROADeploy"></h1>
			</div>
			<div class="item">
				<h1 id="PROAValidations"></h1>
			</div>
			<div class="item">
				<h1 id="PROARegressive"></h1>
			</div>
		</div>
		<div id="row7" class="column">
			<div class="environment">
				<h1 class="center">PRO B</h1>
				<h2 id="releaseDateB" class="center"></h2>
			</div>
			<div class="item na">
				<h1 class="center">&nbsp;</h1>
			</div>
			<div class="item na">
				<h1 class="center">&nbsp;</h1>
			</div>
			<div class="item">
				<h1 id="PROBDeploy"></h1>
			</div>
			<div class="item">
				<h1 id="PROBValidations"></h1>
			</div>
			<div class="item">
				<h1 id="PROBRegressive"></h1>
			</div>
		</div>
		<div id="row8" class="column">
			<div class="environment last">
                <h2 class="center">develop (CI)</h2>
                <br/>
				<h1 class="center"><img src="https://vueling.visualstudio.com/Legacy/_apis/build/status/Vueling.CREW/Vueling.CREW%20(develop)(CI)"/></h1>
			</div>
			<div class="environment last">
                <h2 class="center">master (CI)</h2>
                <br/>
				<h1 class="center"><img src="https://vueling.visualstudio.com/Legacy/_apis/build/status/Vueling.CREW/Vueling.CREW%20(CI)"/></h1>
			</div>
			<div class="item releseEnded last">
				<label class="label">
					<input  class="label__checkbox" type="checkbox" />
					<span class="label__text">
					  <span class="label__check">
						<i class="fa fa-check icon"></i>
					  </span>
					</span>
				  </label>
			</div>
			<div class="item last">
				<h1 id="iop" class="center"></h1>
			</div>
			<div class="item last release" style="max-width:100%">
				<h1 id="releaseDate" class="center"></h1>
			</div>
		</div>
	</div>
</body>
<style>
	body {background:#f2f2f2;}
	.header {background:#ffc107;flex-grow:1;display:flex;align-items:center;color:#585858;text-transform:uppercase;;max-width:16.6%;margin-right:1px;cursor:default;}
	.environment {flex-grow:1;display:flex;flex-direction:column;align-items:center;border-bottom:1px dashed #b1b1b1;border-right:1px dashed #b1b1b1;max-width:16.6%;cursor:default;justify-content:center;}
	.environment h1, .bigger h1{color:#585858;}
	.environment h2 {color:#989898;font-size:1.5rem;margin-top:-1rem;}
	.column {flex-grow:1;display:flex;flex-direction:row;margin-right:0.1rem;cursor:default;}
	.item {flex-grow:1;display:flex;align-items:center;border-bottom:1px dashed #b1b1b1;max-width:16.6%;cursor:default;}
	.special {display:flex;align-items:center;border-bottom:1px dashed #b1b1b1;max-width:16.6%;cursor:default;}
	.empty {border-right:none;}
	.last {border-bottom:none;}
	.center {margin: 0 auto;}
	.na {background:#d9d9d9;}
	.bigger {max-width:100%;margin-right:3rem;}
	#iop{font-size: 1.75rem !important;color: #b1b1b1;}
	.release {background:#ffb300;text-align:center;}
	.release h1{font-size:2rem; color: #585858;}
	.releseEnded {display: flex; justify-content: flex-end;}
	.label {position: relative;}
	.label__checkbox {display: none;}
	.label__check {display: inline-block;border-radius: 50%;border: 5px solid rgba(0, 0, 0, 0.1);background: white;vertical-align: middle;width: 2.5em;height: 2.5em;cursor: pointer;display: flex;align-items: center;justify-content: center;transition: border 0.3s ease;}
	.label__check i.icon {opacity: 0.2;font-size: 2.5rem;color: transparent;transition: opacity 0.3s 0.1s ease;-webkit-text-stroke: 3px rgba(0, 0, 0, 0.5);}
	.label__check:hover {border: 5px solid rgba(0, 0, 0, 0.2);}
	.label__checkbox:checked + .label__text .label__check {-webkit-animation: check 0.5s cubic-bezier(0.895, 0.03, 0.685, 0.22) forwards;animation: check 0.5s cubic-bezier(0.895, 0.03, 0.685, 0.22) forwards;}
	.label__checkbox:checked + .label__text .label__check .icon {opacity: 1;-webkit-transform: scale(0);transform: scale(0);color: white;-webkit-text-stroke: 0;-webkit-animation: icon 0.3s cubic-bezier(1, 0.008, 0.565, 1.65) 0.1s 1 forwards;animation: icon 0.3s cubic-bezier(1, 0.008, 0.565, 1.65) 0.1s 1 forwards;}
	@-webkit-keyframes icon {
	  from {opacity: 0;-webkit-transform: scale(0.3);transform: scale(0.3);}
	  to {opacity: 1;-webkit-transform: scale(1);transform: scale(1);}
	}
	@keyframes icon {
	  from {opacity: 0;-webkit-transform: scale(0.3);transform: scale(0.3);}
	  to {opacity: 1;-webkit-transform: scale(1);transform: scale(1);}
	}
	@-webkit-keyframes check {
	  0% {width: 1.5em; height: 1.5em;border-width: 5px;}
	  10% { width: 1.5em;height: 1.5em;opacity: 0.1;background: rgba(0, 0, 0, 0.2);border-width: 15px;}
	  12% {width: 1.5em;height: 1.5em;opacity: 0.4;background: rgba(0, 0, 0, 0.1); border-width: 0;}
	  50% {width: 5em;height: 5em;background: rgb(76, 175, 80);;border: 0;opacity: 0.6;}
	  100% {width: 5em;height: 5em;background: rgb(76, 175, 80);;border: 0;opacity: 1;}
	}
	@keyframes check {
	  0% {width: 1.5em;height: 1.5em;border-width: 5px;}
	  10% {width: 1.5em;height: 1.5em;opacity: 0.1;background: rgba(0, 0, 0, 0.2);border-width: 15px;}
	  12% {width: 1.5em;height: 1.5em;opacity: 0.4;background: rgba(0, 0, 0, 0.1);border-width: 0;}
	  50% {width: 5em;height: 5em;background: rgb(76, 175, 80);;border: 0;opacity: 0.6;}
	  100% { width: 5em;height: 5em; background: rgb(76, 175, 80);;border: 0;opacity: 1;}
	}
</style>
<script>
	function convertDate(inputFormat) {
	  
	  function pad(s) { return (s < 10) ? '0' + s : s; }
	  
	  var d = inputFormat;
	  return [pad(d.getDate()), pad(d.getMonth()+1), d.getFullYear()].join('/');
	}
	
	function addDays(date, days) {
	  
	  var result = date;
	  result.setDate(result.getDate() + days);
	  return result;
	}
	
	function getStatusText(element){
		return element.toUpperCase();
	}
	
	function getStatusClass(element){
		if (element=='-') return 'none';
		
		return element.replace(" ","").toLowerCase();
	}
	
	$(document).ready(function() {
		var varArr = ["INTScripts", "INTConfig", "INTDeploy", "INTValidations", "INTRegressive", 
					"QA05Scripts", "QA05Config", "QA05Validations", 
					"PREScripts", "PREConfig", "PREDeploy", "PREValidations", "PRERegressive", 
					"PROAScripts", "PROAConfig", "PROADeploy", "PROAValidations","PROARegressive", 
					"PROBDeploy", "PROBValidations", "PROBRegressive",
					"tablesPREVerification"];
		varArr.forEach(function(element) {
		  $("#" + element).removeClass().addClass("center " + getStatusClass(window[element])).text(getStatusText(window[element]));
		});
		
		$("#releaseDateINT").html("<br>" + convertDate(addDays(new Date(releaseDate.getTime()),-7)));
		$("#releaseDatePRE").html("<br>" + convertDate(addDays(new Date(releaseDate.getTime()),-2)));
		$("#releaseDateA").html("<br>" + convertDate(releaseDate));
		$("#releaseDateB").html("<br>" + convertDate(releaseDate));
		$("#releaseDate").html("RELEASE " + convertDate(releaseDate) + "<br><font size='5rem'>" + app + "</font>");
		$("#iop").html((iopGeneral != "" ? ("IOP General " + iopGeneral + "<br>") : "") + (iopTeam != "" ? ("IOP team " + iopTeam  + "<br>") : ""));
		
		if (isReleaseFinishied)
		{
			$(".label__checkbox").attr("checked", "checked");
		}
    });
	
</script>
